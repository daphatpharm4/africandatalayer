import{r as n,f as We,j as t,S as Je,C as ue,P as Ze,L as Pe,F as et,h as tt,M as at,i as st,k as xe,t as rt,l as nt,m as lt,o as me}from"./index-ycbNHGav.js";import{A as pe}from"./arrow-left-C-ULJfXx.js";import{C as it}from"./circle-check-big-TWjDEGkz.js";const T=["MTN","Orange","Airtel"],ot=["Cash","Mobile Money","Card"],V=["Super","Diesel","Gas"],ct=["08:00 - 20:00","09:00 - 19:00","24/7"],he=1600,dt=.72,ut=.82,be=k=>k===ue.PHARMACY?"pharmacy":k===ue.FUEL?"fuel_station":"mobile_money",bt=({onBack:k,onComplete:ge,language:Y,mode:fe,seedPoint:s})=>{var oe;const a=(e,r)=>Y==="fr"?r:e,[i,L]=n.useState(()=>s?be(s.type):"pharmacy"),[y,ye]=n.useState(null),[U,ve]=n.useState(null),[v,O]=n.useState(null),[Q,H]=n.useState(!1),[_,je]=n.useState(""),[z,Ne]=n.useState(""),[K,A]=n.useState(""),[W,M]=n.useState(""),[J,b]=n.useState(""),[I,h]=n.useState(""),[Z,P]=n.useState(!1),[we,Ce]=n.useState(!1),[j,ee]=n.useState((s==null?void 0:s.name)??""),[g,te]=n.useState((s==null?void 0:s.openingHours)??""),[N,ae]=n.useState((s==null?void 0:s.isOpenNow)??!0),[X,Se]=n.useState((s==null?void 0:s.isOnDuty)??!1),[w,se]=n.useState((s==null?void 0:s.providers)??[]),[C,re]=n.useState((s==null?void 0:s.hasMin50000XafAvailable)??(s==null?void 0:s.hasCashAvailable)??!0),[F,ke]=n.useState((s==null?void 0:s.merchantId)??""),[B,Me]=n.useState(((oe=s==null?void 0:s.providers)==null?void 0:oe[0])??T[0]),[f,Fe]=n.useState((s==null?void 0:s.paymentMethods)??[]),[S,ne]=n.useState((s==null?void 0:s.hasFuelAvailable)??!0),[E,Ee]=n.useState((s==null?void 0:s.fuelTypes)??(s!=null&&s.fuelType?[s.fuelType]:[])),[G,Le]=n.useState((s==null?void 0:s.fuelType)??V[0]),[$,Oe]=n.useState(s!=null&&s.price?String(s.price):""),[R,Ae]=n.useState((s==null?void 0:s.quality)??"Standard"),[Ie]=n.useState(()=>We()),o=n.useMemo(()=>(s==null?void 0:s.gaps)??[],[s]),p=fe==="ENRICH"&&!!s,$e=e=>{const l={openingHours:{en:"Opening Hours",fr:"Heures d'ouverture"},isOpenNow:{en:"Open Now Status",fr:"Statut ouvert maintenant"},isOnDuty:{en:"On-call Pharmacy",fr:"Pharmacie de garde"},merchantIdByProvider:{en:"Merchant IDs",fr:"ID marchands"},paymentMethods:{en:"Payment Methods",fr:"Moyens de paiement"},hasCashAvailable:{en:"Min 50,000 XAF Available",fr:"Minimum 50 000 XAF disponible"},hasMin50000XafAvailable:{en:"Min 50,000 XAF Available",fr:"Minimum 50 000 XAF disponible"},providers:{en:"Providers",fr:"Operateurs"},fuelTypes:{en:"Fuel Types",fr:"Types de carburant"},pricesByFuel:{en:"Fuel Prices",fr:"Prix carburant"},quality:{en:"Quality",fr:"Qualite"},hasFuelAvailable:{en:"Fuel Availability",fr:"Disponibilite carburant"}}[e];return l?Y==="fr"?l.fr:l.en:e};n.useEffect(()=>{s&&L(be(s.type))},[s]),n.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>O({latitude:e.coords.latitude,longitude:e.coords.longitude}),()=>O(null),{enableHighAccuracy:!0,timeout:1e4})},[]),n.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[y]),n.useEffect(()=>{const e=async()=>{await le()};return window.addEventListener("online",e),()=>window.removeEventListener("online",e)},[]);const le=async()=>{try{const e=await nt(lt);if(e.permanentFailures>0){const r=e.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur."),l=a(`${e.permanentFailures} queued item(s) were rejected: ${r}`,`${e.permanentFailures} element(s) en file ont ete rejetes : ${r}`);e.failed>0?h(`${l} ${a(`${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`)}`):h(l)}else if(e.failed>0)h(a(`Saved offline. ${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`));else if(e.synced>0)h(a("Saved offline and synced successfully.","Enregistre hors ligne puis synchronise avec succes."));else{const r=await xe();r.total>0&&h(a(`${r.total} item(s) queued for sync.`,`${r.total} element(s) en file de synchronisation.`))}return e}catch(e){return h(e instanceof Error?e.message:a("Saved offline. Sync will retry automatically.","Enregistre hors ligne. La synchronisation reessaiera automatiquement.")),null}},Re=()=>new Promise((e,r)=>{if(!navigator.geolocation){r(new Error(a("Geolocation not supported.","Geolocalisation non supportee.")));return}navigator.geolocation.getCurrentPosition(l=>e({latitude:l.coords.latitude,longitude:l.coords.longitude}),()=>r(new Error(a("Unable to access location.","Impossible d'acceder a la localisation."))),{enableHighAccuracy:!0,timeout:1e4})}),qe=async()=>{M("");try{const e=await Re();O(e),H(!1)}catch{O(null),M(a("Unable to access location. Use manual fallback coordinates.","Impossible d'acceder a la localisation. Utilisez les coordonnees manuelles.")),H(!0)}},ie=()=>{const e=_.trim(),r=z.trim();if(!e&&!r)return null;const l=Number(e),u=Number(r);return!Number.isFinite(l)||!Number.isFinite(u)?null:{latitude:l,longitude:u}},De=e=>{var u;const r=(u=e.target.files)==null?void 0:u[0];if(!r)return;ve(r),A("");const l=URL.createObjectURL(r);ye(c=>(c&&URL.revokeObjectURL(c),l))},Te=async e=>{const r=c=>new Promise((m,x)=>{const d=new FileReader;d.onload=()=>{if(typeof d.result=="string"){m(d.result);return}x(new Error("Unable to read file."))},d.onerror=()=>x(new Error("Unable to read file.")),d.readAsDataURL(c)});if(!e.type.startsWith("image/"))return await r(e);const l=c=>new Promise((m,x)=>{const d=new Image;d.onload=()=>m(d),d.onerror=()=>x(new Error("Unable to decode image.")),d.src=c}),u=URL.createObjectURL(e);try{const c=await l(u),m=Math.max(c.width,c.height),x=m>he?he/m:1,d=Math.max(1,Math.round(c.width*x)),ce=Math.max(1,Math.round(c.height*x)),D=document.createElement("canvas");D.width=d,D.height=ce;const de=D.getContext("2d");if(!de)return await r(e);de.drawImage(c,0,0,d,ce);const Ke=Ie?dt:ut;return D.toDataURL("image/jpeg",Ke)}catch{return await r(e)}finally{URL.revokeObjectURL(u)}},q=(e,r)=>e.includes(r)?e.filter(l=>l!==r):[...e,r],Ue=()=>{const e=me();if(i==="pharmacy")return{name:j.trim(),isOpenNow:N,openingHours:g.trim()||void 0,clientDevice:e};if(i==="mobile_money")return{providers:w,hasMin50000XafAvailable:C,openingHours:g.trim()||void 0,paymentMethods:f.length?f:void 0,merchantIdByProvider:F.trim()?{[B]:F.trim()}:void 0,clientDevice:e};const r=Number($);return{name:j.trim(),hasFuelAvailable:S,fuelTypes:E.length?E:void 0,pricesByFuel:Number.isFinite(r)?{[G]:r}:void 0,quality:R,openingHours:g.trim()||void 0,paymentMethods:f.length?f:void 0,clientDevice:e}},He=()=>{const e={clientDevice:me()};for(const r of o)r==="openingHours"&&g.trim()&&(e.openingHours=g.trim()),r==="isOpenNow"&&(e.isOpenNow=N),r==="isOnDuty"&&(e.isOnDuty=X),r==="providers"&&w.length&&(e.providers=w),(r==="hasCashAvailable"||r==="hasMin50000XafAvailable")&&(e.hasMin50000XafAvailable=C),r==="merchantIdByProvider"&&F.trim()&&(e.merchantIdByProvider={[B]:F.trim()}),r==="paymentMethods"&&f.length&&(e.paymentMethods=f),r==="fuelTypes"&&E.length&&(e.fuelTypes=E),r==="pricesByFuel"&&Number.isFinite(Number($))&&(e.pricesByFuel={[G]:Number($)}),r==="quality"&&R&&(e.quality=R),r==="hasFuelAvailable"&&(e.hasFuelAvailable=S);return e},_e=e=>{if(A(""),M(""),b(""),!U)return A(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre.")),!1;if(!v&&!ie())return M(a("GPS is required. Retry location or enter fallback coordinates.","Le GPS est requis. Reessayez la localisation ou saisissez des coordonnees de secours.")),!1;if(p){if(Object.keys(e).filter(r=>r!=="clientDevice").length===0)return b(a("Fill at least one gap field to enrich this point.","Renseignez au moins un champ manquant pour enrichir ce point.")),!1}else{if(i==="pharmacy"&&!j.trim())return b(a("Pharmacy name is required.","Le nom de la pharmacie est requis.")),!1;if(i==="mobile_money"&&w.length===0)return b(a("Select at least one provider.","Selectionnez au moins un operateur.")),!1;if(i==="fuel_station"&&!j.trim())return b(a("Fuel station name is required.","Le nom de la station-service est requis.")),!1}return!0},ze=async()=>{if(!U){A(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre."));return}const e=ie();if((_.trim()||z.trim())&&!e){M(a("Enter a valid latitude and longitude.","Entrez une latitude et une longitude valides."));return}const r=p?He():Ue();if(_e(r)){h(""),P(!0);try{const l=await Te(U),u={eventType:p?"ENRICH_EVENT":"CREATE_EVENT",category:i,pointId:p&&s?s.id:void 0,location:v??e??void 0,details:r,imageBase64:l},c=await st(u);let m=null;if(navigator.onLine)m=await le();else{const x=await xe();h(a(`Saved offline. ${x.total} item(s) pending sync.`,`Enregistre hors ligne. ${x.total} element(s) en attente de synchronisation.`))}if(m&&m.permanentFailureIds.includes(c.id)){const x=m.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur.");b(x);return}Ce(!0)}catch(l){const u=rt(l);b(u.message||a("Submission failed.","Echec de la soumission."))}finally{P(!1)}}},Xe=()=>p?null:t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Vertical","Verticale")}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:()=>L("pharmacy"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="pharmacy"?"bg-[#eaf3ee] border-[#2f855a] text-[#2f855a]":"border-gray-100 text-gray-500"}`,children:a("Pharmacy","Pharmacie")}),t.jsx("button",{onClick:()=>L("mobile_money"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="mobile_money"?"bg-[#e7eef4] border-[#0f2b46] text-[#0f2b46]":"border-gray-100 text-gray-500"}`,children:a("Kiosk","Kiosque")}),t.jsx("button",{onClick:()=>L("fuel_station"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="fuel_station"?"bg-[#f7e8e1] border-[#c86b4a] text-[#c86b4a]":"border-gray-100 text-gray-500"}`,children:a("Fuel","Carburant")})]})]}),Be=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(at,{size:16,className:"text-[#0f2b46]"}),t.jsx("span",{className:"text-xs font-bold text-gray-900",children:a("GPS Location","Localisation GPS")})]}),t.jsx("button",{onClick:qe,className:"text-[10px] font-bold uppercase tracking-widest text-[#0f2b46]",children:a("Retry","Reessayer")})]}),t.jsx("p",{className:"text-[11px] text-gray-500",children:v?`GPS: ${v.latitude.toFixed(4)}°, ${v.longitude.toFixed(4)}°`:a("GPS unavailable. Retry, then use fallback if needed.","GPS indisponible. Reessayez, puis utilisez le secours si necessaire.")}),!v&&t.jsx("button",{onClick:()=>H(e=>!e),className:"text-[10px] font-bold uppercase tracking-widest text-[#c86b4a]",children:Q?a("Hide Manual Fallback","Masquer secours manuel"):a("Use Manual Fallback","Utiliser secours manuel")}),Q&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{value:_,onChange:e=>je(e.target.value),placeholder:a("Latitude","Latitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsx("input",{value:z,onChange:e=>Ne(e.target.value),placeholder:a("Longitude","Longitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),W&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:W})]}),Ge=()=>t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Live Camera Proof","Preuve camera en direct")}),t.jsx("p",{className:"text-xs text-gray-500",children:a("Camera capture only. Gallery uploads are blocked.","Capture camera uniquement. Import galerie bloque.")}),t.jsxs("div",{className:"aspect-square w-full rounded-2xl bg-gray-50 border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400 relative overflow-hidden",children:[y?t.jsx("img",{src:y,alt:a("Captured photo","Photo capturee"),className:"absolute inset-0 h-full w-full object-cover"}):t.jsxs(t.Fragment,{children:[t.jsx(tt,{size:46,className:"mb-4 opacity-40"}),t.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:a("Live capture required","Capture live requise")})]}),t.jsx("input",{id:"capture-photo",type:"file",accept:"image/*",capture:"environment",onChange:De,className:"sr-only"}),t.jsx("label",{htmlFor:"capture-photo",className:"relative z-10 mt-6 inline-flex items-center justify-center rounded-full border border-gray-200 bg-white/90 px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-gray-600 shadow-sm backdrop-blur hover:bg-white",children:y?a("Retake Photo","Reprendre photo"):a("Capture Photo","Capturer photo")})]}),K&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:K})]}),Ve=()=>i==="pharmacy"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Pharmacy","Creer une pharmacie")}),t.jsx("input",{value:j,onChange:e=>ee(e.target.value),placeholder:a("Pharmacy name","Nom de la pharmacie"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>ae(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${N?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:N?a("Yes","Oui"):a("No","Non")})]})]}):i==="mobile_money"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Kiosk","Creer un kiosque")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(e=>t.jsx("button",{onClick:()=>se(r=>q(r,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${w.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Min 50,000 XAF available","Minimum 50 000 XAF disponible")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${C?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:C?a("Yes","Oui"):a("No","Non")})]})]}):t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Fuel Station","Creer une station-service")}),t.jsx("input",{value:j,onChange:e=>ee(e.target.value),placeholder:a("Fuel station name","Nom de la station-service"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>ne(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${S?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:S?a("Yes","Oui"):a("No","Non")})]})]}),Ye=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Enrich Missing Fields","Enrichir les champs manquants")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(e=>t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 rounded-full bg-[#fff8f4] text-[#b85f3f] border border-[#f5d5c6]",children:$e(e)},e))}),o.includes("openingHours")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Opening hours","Heures d'ouverture")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ct.map(e=>t.jsx("button",{onClick:()=>te(e),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${g===e?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),t.jsx("input",{value:g,onChange:e=>te(e.target.value),placeholder:a("Custom opening hours","Heures d'ouverture personnalisees"),className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),o.includes("isOpenNow")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>ae(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${N?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:N?a("Yes","Oui"):a("No","Non")})]}),o.includes("isOnDuty")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("On-call pharmacy","Pharmacie de garde")}),t.jsx("button",{onClick:()=>Se(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${X?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:X?a("Yes","Oui"):a("No","Non")})]}),o.includes("providers")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Providers","Operateurs")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(e=>t.jsx("button",{onClick:()=>se(r=>q(r,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${w.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),(o.includes("hasCashAvailable")||o.includes("hasMin50000XafAvailable"))&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Min 50,000 XAF available","Minimum 50 000 XAF disponible")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${C?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:C?a("Yes","Oui"):a("No","Non")})]}),o.includes("merchantIdByProvider")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:B,onChange:e=>Me(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:T.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{value:F,onChange:e=>ke(e.target.value),placeholder:a("Merchant ID","ID marchand"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),o.includes("paymentMethods")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Payment methods","Moyens de paiement")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ot.map(e=>t.jsx("button",{onClick:()=>Fe(r=>q(r,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${f.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),o.includes("fuelTypes")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Fuel types","Types de carburant")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(e=>t.jsx("button",{onClick:()=>Ee(r=>q(r,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${E.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),o.includes("pricesByFuel")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:G,onChange:e=>Le(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:V.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{type:"number",value:$,onChange:e=>Oe(e.target.value),placeholder:a("Price (XAF)","Prix (XAF)"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),o.includes("quality")&&t.jsx("div",{className:"flex gap-2",children:["Premium","Standard","Low"].map(e=>t.jsx("button",{onClick:()=>Ae(e),className:`flex-1 h-10 rounded-xl text-[10px] font-bold uppercase tracking-widest ${R===e?"bg-[#4c7c59] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),o.includes("hasFuelAvailable")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>ne(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${S?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:S?a("Yes","Oui"):a("No","Non")})]})]}),Qe=i==="pharmacy"?t.jsx(Ze,{size:18}):i==="mobile_money"?t.jsx(Pe,{size:18}):t.jsx(et,{size:18});return we?t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsx("div",{className:"pt-6 px-8",children:t.jsx("button",{onClick:k,className:"p-1 -ml-1 text-gray-500",children:t.jsx(pe,{size:24})})}),t.jsxs("div",{className:"flex-1 px-6 flex flex-col items-center justify-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#eaf3ee] text-[#4c7c59] flex items-center justify-center",children:t.jsx(it,{size:30})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a("Saved Offline","Enregistre hors ligne")}),t.jsx("p",{className:"text-sm text-gray-500",children:a("Your submission is saved locally first and will sync automatically when online.","Votre soumission est d'abord enregistree localement et sera synchronisee automatiquement en ligne.")}),I&&t.jsx("div",{className:"w-full rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:I})]}),t.jsx("div",{className:"p-6",children:t.jsx("button",{onClick:ge,className:"w-full h-14 bg-[#c86b4a] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg hover:bg-[#b85f3f] active:scale-95 transition-all",children:a("Return to Map","Retour a la carte")})})]}):t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsxs("div",{className:"pt-6 px-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("button",{onClick:k,className:"p-1 -ml-1 text-gray-500",children:t.jsx(pe,{size:24})}),t.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-[0.2em]",children:p?a("Enrich Point","Enrichir point"):a("Create Point","Creer point")}),t.jsx("span",{className:"w-6"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-bold uppercase tracking-widest text-[#4c7c59] mb-4",children:[t.jsx(Je,{size:12}),t.jsx("span",{children:a("Live photo + GPS mandatory","Photo live + GPS obligatoires")})]})]}),t.jsxs("div",{className:"flex-1 p-6 overflow-y-auto no-scrollbar space-y-5",children:[t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-[#0f2b46]",children:[Qe,t.jsx("span",{className:"text-sm font-bold",children:i==="pharmacy"?a("Pharmacy","Pharmacie"):i==="mobile_money"?a("Mobile Money Kiosk","Kiosque mobile money"):a("Fuel Station","Station-service")})]}),p&&s&&t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 truncate max-w-[140px]",children:s.name})]}),Xe(),Ge(),Be(),p?Ye():Ve(),J&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:J}),I&&t.jsx("div",{className:"rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:I})]}),t.jsx("div",{className:"p-6 pt-2",children:t.jsx("button",{onClick:ze,disabled:Z,className:"w-full h-14 bg-[#0f2b46] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg flex items-center justify-center space-x-2 hover:bg-[#0b2236] active:scale-95 transition-all disabled:opacity-70",children:Z?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:a("Saving","Enregistrement")})]}):t.jsx("span",{children:p?a("Save Enrichment","Enregistrer enrichissement"):a("Create Point","Creer point")})})})]})};export{bt as default};
