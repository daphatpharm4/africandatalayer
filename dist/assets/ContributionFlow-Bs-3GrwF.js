import{r as n,f as Ke,j as t,S as Xe,C as ce,P as We,L as Je,F as Ze,h as Pe,M as et,i as tt,k as de,t as at,l as rt,m as st,o as ue}from"./index-ChD7mxZL.js";import{A as xe}from"./arrow-left-py2fwaZo.js";import{C as nt}from"./circle-check-big-DUiObzKp.js";const D=["MTN","Orange","Airtel"],lt=["Cash","Mobile Money","Card"],V=["Super","Diesel","Gas"],it=["08:00 - 20:00","09:00 - 19:00","24/7"],ot=8*1024*1024,me=1600,ct=.72,dt=.82,pe=C=>C===ce.PHARMACY?"pharmacy":C===ce.FUEL?"fuel_station":"mobile_money",ht=({onBack:C,onComplete:he,language:Y,mode:ge,seedPoint:r})=>{var le;const a=(e,s)=>Y==="fr"?s:e,[i,M]=n.useState(()=>r?pe(r.type):"pharmacy"),[y,be]=n.useState(null),[T,fe]=n.useState(null),[v,L]=n.useState(null),[Q,U]=n.useState(!1),[_,ye]=n.useState(""),[H,ve]=n.useState(""),[K,O]=n.useState(""),[X,k]=n.useState(""),[W,g]=n.useState(""),[I,h]=n.useState(""),[J,Z]=n.useState(!1),[je,we]=n.useState(!1),[j,P]=n.useState((r==null?void 0:r.name)??""),[b,ee]=n.useState((r==null?void 0:r.openingHours)??""),[w,te]=n.useState((r==null?void 0:r.isOpenNow)??!0),[z,Ne]=n.useState((r==null?void 0:r.isOnDuty)??!1),[N,ae]=n.useState((r==null?void 0:r.providers)??[]),[E,Se]=n.useState((r==null?void 0:r.merchantId)??""),[B,Ce]=n.useState(((le=r==null?void 0:r.providers)==null?void 0:le[0])??D[0]),[f,ke]=n.useState((r==null?void 0:r.paymentMethods)??[]),[S,re]=n.useState((r==null?void 0:r.hasFuelAvailable)??!0),[F,Ee]=n.useState((r==null?void 0:r.fuelTypes)??(r!=null&&r.fuelType?[r.fuelType]:[])),[G,Fe]=n.useState((r==null?void 0:r.fuelType)??V[0]),[R,Me]=n.useState(r!=null&&r.price?String(r.price):""),[q,Le]=n.useState((r==null?void 0:r.quality)??"Standard"),[Oe]=n.useState(()=>Ke()),d=n.useMemo(()=>(r==null?void 0:r.gaps)??[],[r]),p=ge==="ENRICH"&&!!r,Ie=e=>{const l={openingHours:{en:"Opening Hours",fr:"Heures d'ouverture"},isOpenNow:{en:"Open Now Status",fr:"Statut ouvert maintenant"},isOnDuty:{en:"On-call Pharmacy",fr:"Pharmacie de garde"},merchantIdByProvider:{en:"Merchant IDs",fr:"ID marchands"},paymentMethods:{en:"Payment Methods",fr:"Moyens de paiement"},providers:{en:"Providers",fr:"Operateurs"},fuelTypes:{en:"Fuel Types",fr:"Types de carburant"},pricesByFuel:{en:"Fuel Prices",fr:"Prix carburant"},quality:{en:"Quality",fr:"Qualite"},hasFuelAvailable:{en:"Fuel Availability",fr:"Disponibilite carburant"}}[e];return l?Y==="fr"?l.fr:l.en:e};n.useEffect(()=>{r&&M(pe(r.type))},[r]),n.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>L({latitude:e.coords.latitude,longitude:e.coords.longitude}),()=>L(null),{enableHighAccuracy:!0,timeout:1e4})},[]),n.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[y]),n.useEffect(()=>{const e=async()=>{await se()};return window.addEventListener("online",e),()=>window.removeEventListener("online",e)},[]);const se=async()=>{try{const e=await rt(st);if(e.permanentFailures>0){const s=e.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur."),l=a(`${e.permanentFailures} queued item(s) were rejected: ${s}`,`${e.permanentFailures} element(s) en file ont ete rejetes : ${s}`);e.failed>0?h(`${l} ${a(`${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`)}`):h(l)}else if(e.failed>0)h(a(`Saved offline. ${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`));else if(e.synced>0)h(a("Saved offline and synced successfully.","Enregistre hors ligne puis synchronise avec succes."));else{const s=await de();s.total>0&&h(a(`${s.total} item(s) queued for sync.`,`${s.total} element(s) en file de synchronisation.`))}return e}catch(e){return h(e instanceof Error?e.message:a("Saved offline. Sync will retry automatically.","Enregistre hors ligne. La synchronisation reessaiera automatiquement.")),null}},Re=()=>new Promise((e,s)=>{if(!navigator.geolocation){s(new Error(a("Geolocation not supported.","Geolocalisation non supportee.")));return}navigator.geolocation.getCurrentPosition(l=>e({latitude:l.coords.latitude,longitude:l.coords.longitude}),()=>s(new Error(a("Unable to access location.","Impossible d'acceder a la localisation."))),{enableHighAccuracy:!0,timeout:1e4})}),qe=async()=>{k("");try{const e=await Re();L(e),U(!1)}catch{L(null),k(a("Unable to access location. Use manual fallback coordinates.","Impossible d'acceder a la localisation. Utilisez les coordonnees manuelles.")),U(!0)}},ne=()=>{const e=_.trim(),s=H.trim();if(!e&&!s)return null;const l=Number(e),u=Number(s);return!Number.isFinite(l)||!Number.isFinite(u)?null:{latitude:l,longitude:u}},$e=e=>{var u;const s=(u=e.target.files)==null?void 0:u[0];if(!s)return;fe(s),O("");const l=URL.createObjectURL(s);be(o=>(o&&URL.revokeObjectURL(o),l))},Ae=async e=>{const s=o=>new Promise((m,x)=>{const c=new FileReader;c.onload=()=>{if(typeof c.result=="string"){m(c.result);return}x(new Error("Unable to read file."))},c.onerror=()=>x(new Error("Unable to read file.")),c.readAsDataURL(o)});if(!e.type.startsWith("image/"))return await s(e);if(e.size<=ot)return await s(e);const l=o=>new Promise((m,x)=>{const c=new Image;c.onload=()=>m(c),c.onerror=()=>x(new Error("Unable to decode image.")),c.src=o}),u=URL.createObjectURL(e);try{const o=await l(u),m=Math.max(o.width,o.height),x=m>me?me/m:1,c=Math.max(1,Math.round(o.width*x)),ie=Math.max(1,Math.round(o.height*x)),A=document.createElement("canvas");A.width=c,A.height=ie;const oe=A.getContext("2d");if(!oe)return await s(e);oe.drawImage(o,0,0,c,ie);const Qe=Oe?ct:dt;return A.toDataURL("image/jpeg",Qe)}catch{return await s(e)}finally{URL.revokeObjectURL(u)}},$=(e,s)=>e.includes(s)?e.filter(l=>l!==s):[...e,s],De=()=>{const e=ue();if(i==="pharmacy")return{name:j.trim(),isOpenNow:w,openingHours:b.trim()||void 0,clientDevice:e};if(i==="mobile_money")return{providers:N,openingHours:b.trim()||void 0,paymentMethods:f.length?f:void 0,merchantIdByProvider:E.trim()?{[B]:E.trim()}:void 0,clientDevice:e};const s=Number(R);return{name:j.trim(),hasFuelAvailable:S,fuelTypes:F.length?F:void 0,pricesByFuel:Number.isFinite(s)?{[G]:s}:void 0,quality:q,openingHours:b.trim()||void 0,paymentMethods:f.length?f:void 0,clientDevice:e}},Te=()=>{const e={clientDevice:ue()};for(const s of d)s==="openingHours"&&b.trim()&&(e.openingHours=b.trim()),s==="isOpenNow"&&(e.isOpenNow=w),s==="isOnDuty"&&(e.isOnDuty=z),s==="providers"&&N.length&&(e.providers=N),s==="merchantIdByProvider"&&E.trim()&&(e.merchantIdByProvider={[B]:E.trim()}),s==="paymentMethods"&&f.length&&(e.paymentMethods=f),s==="fuelTypes"&&F.length&&(e.fuelTypes=F),s==="pricesByFuel"&&Number.isFinite(Number(R))&&(e.pricesByFuel={[G]:Number(R)}),s==="quality"&&q&&(e.quality=q),s==="hasFuelAvailable"&&(e.hasFuelAvailable=S);return e},Ue=e=>{if(O(""),k(""),g(""),!T)return O(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre.")),!1;if(!v&&!ne())return k(a("GPS is required. Retry location or enter fallback coordinates.","Le GPS est requis. Reessayez la localisation ou saisissez des coordonnees de secours.")),!1;if(p){if(Object.keys(e).filter(s=>s!=="clientDevice").length===0)return g(a("Fill at least one gap field to enrich this point.","Renseignez au moins un champ manquant pour enrichir ce point.")),!1}else{if(i==="pharmacy"&&!j.trim())return g(a("Pharmacy name is required.","Le nom de la pharmacie est requis.")),!1;if(i==="mobile_money"&&N.length===0)return g(a("Select at least one provider.","Selectionnez au moins un operateur.")),!1;if(i==="fuel_station"&&!j.trim())return g(a("Fuel station name is required.","Le nom de la station-service est requis.")),!1}return!0},_e=async()=>{if(!T){O(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre."));return}const e=ne();if((_.trim()||H.trim())&&!e){k(a("Enter a valid latitude and longitude.","Entrez une latitude et une longitude valides."));return}const s=p?Te():De();if(Ue(s)){h(""),Z(!0);try{const l=await Ae(T),u={eventType:p?"ENRICH_EVENT":"CREATE_EVENT",category:i,pointId:p&&r?r.id:void 0,location:v??e??void 0,details:s,imageBase64:l},o=await tt(u);let m=null;if(navigator.onLine)m=await se();else{const x=await de();h(a(`Saved offline. ${x.total} item(s) pending sync.`,`Enregistre hors ligne. ${x.total} element(s) en attente de synchronisation.`))}if(m&&m.permanentFailureIds.includes(o.id)){const x=m.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur.");g(x);return}we(!0)}catch(l){const u=at(l);g(u.message||a("Submission failed.","Echec de la soumission."))}finally{Z(!1)}}},He=()=>p?null:t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Vertical","Verticale")}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:()=>M("pharmacy"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="pharmacy"?"bg-[#eaf3ee] border-[#2f855a] text-[#2f855a]":"border-gray-100 text-gray-500"}`,children:a("Pharmacy","Pharmacie")}),t.jsx("button",{onClick:()=>M("mobile_money"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="mobile_money"?"bg-[#e7eef4] border-[#0f2b46] text-[#0f2b46]":"border-gray-100 text-gray-500"}`,children:a("Kiosk","Kiosque")}),t.jsx("button",{onClick:()=>M("fuel_station"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${i==="fuel_station"?"bg-[#f7e8e1] border-[#c86b4a] text-[#c86b4a]":"border-gray-100 text-gray-500"}`,children:a("Fuel","Carburant")})]})]}),ze=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{size:16,className:"text-[#0f2b46]"}),t.jsx("span",{className:"text-xs font-bold text-gray-900",children:a("GPS Location","Localisation GPS")})]}),t.jsx("button",{onClick:qe,className:"text-[10px] font-bold uppercase tracking-widest text-[#0f2b46]",children:a("Retry","Reessayer")})]}),t.jsx("p",{className:"text-[11px] text-gray-500",children:v?`GPS: ${v.latitude.toFixed(4)}°, ${v.longitude.toFixed(4)}°`:a("GPS unavailable. Retry, then use fallback if needed.","GPS indisponible. Reessayez, puis utilisez le secours si necessaire.")}),!v&&t.jsx("button",{onClick:()=>U(e=>!e),className:"text-[10px] font-bold uppercase tracking-widest text-[#c86b4a]",children:Q?a("Hide Manual Fallback","Masquer secours manuel"):a("Use Manual Fallback","Utiliser secours manuel")}),Q&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{value:_,onChange:e=>ye(e.target.value),placeholder:a("Latitude","Latitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsx("input",{value:H,onChange:e=>ve(e.target.value),placeholder:a("Longitude","Longitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),X&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:X})]}),Be=()=>t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Live Camera Proof","Preuve camera en direct")}),t.jsx("p",{className:"text-xs text-gray-500",children:a("Camera capture only. Gallery uploads are blocked.","Capture camera uniquement. Import galerie bloque.")}),t.jsxs("div",{className:"aspect-square w-full rounded-2xl bg-gray-50 border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400 relative overflow-hidden",children:[y?t.jsx("img",{src:y,alt:a("Captured photo","Photo capturee"),className:"absolute inset-0 h-full w-full object-cover"}):t.jsxs(t.Fragment,{children:[t.jsx(Pe,{size:46,className:"mb-4 opacity-40"}),t.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:a("Live capture required","Capture live requise")})]}),t.jsx("input",{id:"capture-photo",type:"file",accept:"image/*",capture:"environment",onChange:$e,className:"sr-only"}),t.jsx("label",{htmlFor:"capture-photo",className:"relative z-10 mt-6 inline-flex items-center justify-center rounded-full border border-gray-200 bg-white/90 px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-gray-600 shadow-sm backdrop-blur hover:bg-white",children:y?a("Retake Photo","Reprendre photo"):a("Capture Photo","Capturer photo")})]}),K&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:K})]}),Ge=()=>i==="pharmacy"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Pharmacy","Creer une pharmacie")}),t.jsx("input",{value:j,onChange:e=>P(e.target.value),placeholder:a("Pharmacy name","Nom de la pharmacie"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>te(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${w?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:w?a("Yes","Oui"):a("No","Non")})]})]}):i==="mobile_money"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Kiosk","Creer un kiosque")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>t.jsx("button",{onClick:()=>ae(s=>$(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${N.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}):t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Fuel Station","Creer une station-service")}),t.jsx("input",{value:j,onChange:e=>P(e.target.value),placeholder:a("Fuel station name","Nom de la station-service"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${S?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:S?a("Yes","Oui"):a("No","Non")})]})]}),Ve=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Enrich Missing Fields","Enrichir les champs manquants")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(e=>t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 rounded-full bg-[#fff8f4] text-[#b85f3f] border border-[#f5d5c6]",children:Ie(e)},e))}),d.includes("openingHours")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Opening hours","Heures d'ouverture")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:it.map(e=>t.jsx("button",{onClick:()=>ee(e),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${b===e?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),t.jsx("input",{value:b,onChange:e=>ee(e.target.value),placeholder:a("Custom opening hours","Heures d'ouverture personnalisees"),className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),d.includes("isOpenNow")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>te(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${w?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:w?a("Yes","Oui"):a("No","Non")})]}),d.includes("isOnDuty")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("On-call pharmacy","Pharmacie de garde")}),t.jsx("button",{onClick:()=>Ne(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${z?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:z?a("Yes","Oui"):a("No","Non")})]}),d.includes("providers")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Providers","Operateurs")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>t.jsx("button",{onClick:()=>ae(s=>$(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${N.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),d.includes("merchantIdByProvider")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:B,onChange:e=>Ce(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:D.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{value:E,onChange:e=>Se(e.target.value),placeholder:a("Merchant ID","ID marchand"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),d.includes("paymentMethods")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Payment methods","Moyens de paiement")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:lt.map(e=>t.jsx("button",{onClick:()=>ke(s=>$(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${f.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),d.includes("fuelTypes")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Fuel types","Types de carburant")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(e=>t.jsx("button",{onClick:()=>Ee(s=>$(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${F.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),d.includes("pricesByFuel")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:G,onChange:e=>Fe(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:V.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{type:"number",value:R,onChange:e=>Me(e.target.value),placeholder:a("Price (XAF)","Prix (XAF)"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),d.includes("quality")&&t.jsx("div",{className:"flex gap-2",children:["Premium","Standard","Low"].map(e=>t.jsx("button",{onClick:()=>Le(e),className:`flex-1 h-10 rounded-xl text-[10px] font-bold uppercase tracking-widest ${q===e?"bg-[#4c7c59] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),d.includes("hasFuelAvailable")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${S?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:S?a("Yes","Oui"):a("No","Non")})]})]}),Ye=i==="pharmacy"?t.jsx(We,{size:18}):i==="mobile_money"?t.jsx(Je,{size:18}):t.jsx(Ze,{size:18});return je?t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsx("div",{className:"pt-6 px-8",children:t.jsx("button",{onClick:C,className:"p-1 -ml-1 text-gray-500",children:t.jsx(xe,{size:24})})}),t.jsxs("div",{className:"flex-1 px-6 flex flex-col items-center justify-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#eaf3ee] text-[#4c7c59] flex items-center justify-center",children:t.jsx(nt,{size:30})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a("Saved Offline","Enregistre hors ligne")}),t.jsx("p",{className:"text-sm text-gray-500",children:a("Your submission is saved locally first and will sync automatically when online.","Votre soumission est d'abord enregistree localement et sera synchronisee automatiquement en ligne.")}),I&&t.jsx("div",{className:"w-full rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:I})]}),t.jsx("div",{className:"p-6",children:t.jsx("button",{onClick:he,className:"w-full h-14 bg-[#c86b4a] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg hover:bg-[#b85f3f] active:scale-95 transition-all",children:a("Return to Map","Retour a la carte")})})]}):t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsxs("div",{className:"pt-6 px-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("button",{onClick:C,className:"p-1 -ml-1 text-gray-500",children:t.jsx(xe,{size:24})}),t.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-[0.2em]",children:p?a("Enrich Point","Enrichir point"):a("Create Point","Creer point")}),t.jsx("span",{className:"w-6"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-bold uppercase tracking-widest text-[#4c7c59] mb-4",children:[t.jsx(Xe,{size:12}),t.jsx("span",{children:a("Live photo + GPS mandatory","Photo live + GPS obligatoires")})]})]}),t.jsxs("div",{className:"flex-1 p-6 overflow-y-auto no-scrollbar space-y-5",children:[t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-[#0f2b46]",children:[Ye,t.jsx("span",{className:"text-sm font-bold",children:i==="pharmacy"?a("Pharmacy","Pharmacie"):i==="mobile_money"?a("Mobile Money Kiosk","Kiosque mobile money"):a("Fuel Station","Station-service")})]}),p&&r&&t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 truncate max-w-[140px]",children:r.name})]}),He(),Be(),ze(),p?Ve():Ge(),W&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:W}),I&&t.jsx("div",{className:"rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:I})]}),t.jsx("div",{className:"p-6 pt-2",children:t.jsx("button",{onClick:_e,disabled:J,className:"w-full h-14 bg-[#0f2b46] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg flex items-center justify-center space-x-2 hover:bg-[#0b2236] active:scale-95 transition-all disabled:opacity-70",children:J?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:a("Saving","Enregistrement")})]}):t.jsx("span",{children:p?a("Save Enrichment","Enregistrer enrichissement"):a("Create Point","Creer point")})})})]})};export{ht as default};
