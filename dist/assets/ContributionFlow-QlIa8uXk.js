import{r as l,f as Xe,j as t,S as We,C as de,P as Ze,L as Pe,F as et,h as tt,M as at,i as rt,k as xe,t as st,l as nt,m as it,o as me}from"./index-C7ePr4Fw.js";import{A as pe}from"./arrow-left-BLmXqLs1.js";import{C as lt}from"./circle-check-big-Bcuc4S2C.js";const D=["MTN","Orange","Airtel"],ot=["Cash","Mobile Money","Card"],K=["Super","Diesel","Gas"],ct=["08:00 - 20:00","09:00 - 19:00","24/7"],ut=8*1024*1024,ge=1600,dt=.72,xt=.82,mt=new Set(["image/jpeg","image/jpg"]);function pt(n){const i=n.indexOf(",");if(i===-1)return null;const o=n.slice(i+1);if(!o)return null;const u=atob(o),r=new Uint8Array(u.length);for(let a=0;a<u.length;a+=1)r[a]=u.charCodeAt(a);return r}function gt(n,i){let o="";for(let u=0;u<n.length;u+=1)o+=String.fromCharCode(n[u]??0);return`data:${i};base64,${btoa(o)}`}function he(n){if(n.length<4||n[0]!==255||n[1]!==216)return null;let i=2;for(;i+4<=n.length;){if(n[i]!==255){i+=1;continue}const o=n[i+1];if(o===216||o===1||o>=208&&o<=215){i+=2;continue}if(o===218||o===217)break;const u=(n[i+2]??0)<<8|(n[i+3]??0);if(u<2)break;const r=i+2+u;if(r>n.length)break;if(o===225&&u>=8&&String.fromCharCode(n[i+4]??0,n[i+5]??0,n[i+6]??0,n[i+7]??0,n[i+8]??0,n[i+9]??0)==="Exif\0\0")return n.slice(i,r);i=r}return null}function ht(n,i){if(n.length<2||n[0]!==255||n[1]!==216||!i.length)return null;const o=new Uint8Array(n.length+i.length);return o[0]=n[0],o[1]=n[1],o.set(i,2),o.set(n.slice(2),2+i.length),o}async function ft(n,i){if(!mt.has((n.type||"").toLowerCase()))return i;const o=new Uint8Array(await n.arrayBuffer()),u=he(o);if(!u)return i;const r=pt(i);if(!r||he(r))return i;const a=ht(r,u);return a?gt(a,"image/jpeg"):i}const fe=n=>n===de.PHARMACY?"pharmacy":n===de.FUEL?"fuel_station":"mobile_money",wt=({onBack:n,onComplete:i,language:o,mode:u,seedPoint:r})=>{var oe;const a=(e,s)=>o==="fr"?s:e,[d,I]=l.useState(()=>r?fe(r.type):"pharmacy"),[N,be]=l.useState(null),[H,ye]=l.useState(null),[S,A]=l.useState(null),[J,z]=l.useState(!1),[G,ve]=l.useState(""),[B,we]=l.useState(""),[X,T]=l.useState(""),[W,F]=l.useState(""),[Z,v]=l.useState(""),[$,y]=l.useState(""),[P,ee]=l.useState(!1),[je,Ne]=l.useState(!1),[C,te]=l.useState((r==null?void 0:r.name)??""),[w,ae]=l.useState((r==null?void 0:r.openingHours)??""),[k,re]=l.useState((r==null?void 0:r.isOpenNow)??!0),[V,Se]=l.useState((r==null?void 0:r.isOnDuty)??!1),[E,se]=l.useState((r==null?void 0:r.providers)??[]),[L,Ce]=l.useState((r==null?void 0:r.merchantId)??""),[Y,ke]=l.useState(((oe=r==null?void 0:r.providers)==null?void 0:oe[0])??D[0]),[j,Ee]=l.useState((r==null?void 0:r.paymentMethods)??[]),[M,ne]=l.useState((r==null?void 0:r.hasFuelAvailable)??!0),[O,Me]=l.useState((r==null?void 0:r.fuelTypes)??(r!=null&&r.fuelType?[r.fuelType]:[])),[Q,Fe]=l.useState((r==null?void 0:r.fuelType)??K[0]),[R,Le]=l.useState(r!=null&&r.price?String(r.price):""),[q,Oe]=l.useState((r==null?void 0:r.quality)??"Standard"),[Ie]=l.useState(()=>Xe()),p=l.useMemo(()=>(r==null?void 0:r.gaps)??[],[r]),b=u==="ENRICH"&&!!r,Ae=e=>{const c={openingHours:{en:"Opening Hours",fr:"Heures d'ouverture"},isOpenNow:{en:"Open Now Status",fr:"Statut ouvert maintenant"},isOnDuty:{en:"On-call Pharmacy",fr:"Pharmacie de garde"},merchantIdByProvider:{en:"Merchant IDs",fr:"ID marchands"},paymentMethods:{en:"Payment Methods",fr:"Moyens de paiement"},providers:{en:"Providers",fr:"Operateurs"},fuelTypes:{en:"Fuel Types",fr:"Types de carburant"},pricesByFuel:{en:"Fuel Prices",fr:"Prix carburant"},quality:{en:"Quality",fr:"Qualite"},hasFuelAvailable:{en:"Fuel Availability",fr:"Disponibilite carburant"}}[e];return c?o==="fr"?c.fr:c.en:e};l.useEffect(()=>{r&&I(fe(r.type))},[r]),l.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>A({latitude:e.coords.latitude,longitude:e.coords.longitude}),()=>A(null),{enableHighAccuracy:!0,timeout:1e4})},[]),l.useEffect(()=>()=>{N&&URL.revokeObjectURL(N)},[N]),l.useEffect(()=>{const e=async()=>{await ie()};return window.addEventListener("online",e),()=>window.removeEventListener("online",e)},[]);const ie=async()=>{try{const e=await nt(it);if(e.permanentFailures>0){const s=e.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur."),c=a(`${e.permanentFailures} queued item(s) were rejected: ${s}`,`${e.permanentFailures} element(s) en file ont ete rejetes : ${s}`);e.failed>0?y(`${c} ${a(`${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`)}`):y(c)}else if(e.failed>0)y(a(`Saved offline. ${e.failed} item(s) still pending sync.`,`${e.failed} element(s) en attente de synchronisation.`));else if(e.synced>0)y(a("Saved offline and synced successfully.","Enregistre hors ligne puis synchronise avec succes."));else{const s=await xe();s.total>0&&y(a(`${s.total} item(s) queued for sync.`,`${s.total} element(s) en file de synchronisation.`))}return e}catch(e){return y(e instanceof Error?e.message:a("Saved offline. Sync will retry automatically.","Enregistre hors ligne. La synchronisation reessaiera automatiquement.")),null}},Te=()=>new Promise((e,s)=>{if(!navigator.geolocation){s(new Error(a("Geolocation not supported.","Geolocalisation non supportee.")));return}navigator.geolocation.getCurrentPosition(c=>e({latitude:c.coords.latitude,longitude:c.coords.longitude}),()=>s(new Error(a("Unable to access location.","Impossible d'acceder a la localisation."))),{enableHighAccuracy:!0,timeout:1e4})}),$e=async()=>{F("");try{const e=await Te();A(e),z(!1)}catch{A(null),F(a("Unable to access location. Use manual fallback coordinates.","Impossible d'acceder a la localisation. Utilisez les coordonnees manuelles.")),z(!0)}},le=()=>{const e=G.trim(),s=B.trim();if(!e&&!s)return null;const c=Number(e),g=Number(s);return!Number.isFinite(c)||!Number.isFinite(g)?null:{latitude:c,longitude:g}},Re=e=>{var g;const s=(g=e.target.files)==null?void 0:g[0];if(!s)return;ye(s),T("");const c=URL.createObjectURL(s);be(x=>(x&&URL.revokeObjectURL(x),c))},qe=async e=>{const s=x=>new Promise((f,h)=>{const m=new FileReader;m.onload=()=>{if(typeof m.result=="string"){f(m.result);return}h(new Error("Unable to read file."))},m.onerror=()=>h(new Error("Unable to read file.")),m.readAsDataURL(x)});if(!e.type.startsWith("image/"))return await s(e);if(e.size<=ut)return await s(e);const c=x=>new Promise((f,h)=>{const m=new Image;m.onload=()=>f(m),m.onerror=()=>h(new Error("Unable to decode image.")),m.src=x}),g=URL.createObjectURL(e);try{const x=await c(g),f=Math.max(x.width,x.height),h=f>ge?ge/f:1,m=Math.max(1,Math.round(x.width*h)),ce=Math.max(1,Math.round(x.height*h)),_=document.createElement("canvas");_.width=m,_.height=ce;const ue=_.getContext("2d");if(!ue)return await s(e);ue.drawImage(x,0,0,m,ce);const Ke=Ie?dt:xt,Je=_.toDataURL("image/jpeg",Ke);return await ft(e,Je)}catch{return await s(e)}finally{URL.revokeObjectURL(g)}},U=(e,s)=>e.includes(s)?e.filter(c=>c!==s):[...e,s],Ue=()=>{const e=me();if(d==="pharmacy")return{name:C.trim(),isOpenNow:k,openingHours:w.trim()||void 0,clientDevice:e};if(d==="mobile_money")return{providers:E,openingHours:w.trim()||void 0,paymentMethods:j.length?j:void 0,merchantIdByProvider:L.trim()?{[Y]:L.trim()}:void 0,clientDevice:e};const s=Number(R);return{name:C.trim(),hasFuelAvailable:M,fuelTypes:O.length?O:void 0,pricesByFuel:Number.isFinite(s)?{[Q]:s}:void 0,quality:q,openingHours:w.trim()||void 0,paymentMethods:j.length?j:void 0,clientDevice:e}},_e=()=>{const e={clientDevice:me()};for(const s of p)s==="openingHours"&&w.trim()&&(e.openingHours=w.trim()),s==="isOpenNow"&&(e.isOpenNow=k),s==="isOnDuty"&&(e.isOnDuty=V),s==="providers"&&E.length&&(e.providers=E),s==="merchantIdByProvider"&&L.trim()&&(e.merchantIdByProvider={[Y]:L.trim()}),s==="paymentMethods"&&j.length&&(e.paymentMethods=j),s==="fuelTypes"&&O.length&&(e.fuelTypes=O),s==="pricesByFuel"&&Number.isFinite(Number(R))&&(e.pricesByFuel={[Q]:Number(R)}),s==="quality"&&q&&(e.quality=q),s==="hasFuelAvailable"&&(e.hasFuelAvailable=M);return e},De=e=>{if(T(""),F(""),v(""),!H)return T(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre.")),!1;if(!S&&!le())return F(a("GPS is required. Retry location or enter fallback coordinates.","Le GPS est requis. Reessayez la localisation ou saisissez des coordonnees de secours.")),!1;if(b){if(Object.keys(e).filter(s=>s!=="clientDevice").length===0)return v(a("Fill at least one gap field to enrich this point.","Renseignez au moins un champ manquant pour enrichir ce point.")),!1}else{if(d==="pharmacy"&&!C.trim())return v(a("Pharmacy name is required.","Le nom de la pharmacie est requis.")),!1;if(d==="mobile_money"&&E.length===0)return v(a("Select at least one provider.","Selectionnez au moins un operateur.")),!1;if(d==="fuel_station"&&!C.trim())return v(a("Fuel station name is required.","Le nom de la station-service est requis.")),!1}return!0},He=async()=>{if(!H){T(a("Please capture a live photo before submitting.","Veuillez capturer une photo en direct avant de soumettre."));return}const e=le();if((G.trim()||B.trim())&&!e){F(a("Enter a valid latitude and longitude.","Entrez une latitude et une longitude valides."));return}const s=b?_e():Ue();if(De(s)){y(""),ee(!0);try{const c=await qe(H),g={eventType:b?"ENRICH_EVENT":"CREATE_EVENT",category:d,pointId:b&&r?r.id:void 0,location:S??e??void 0,details:s,imageBase64:c},x=await rt(g);let f=null;if(navigator.onLine)f=await ie();else{const h=await xe();y(a(`Saved offline. ${h.total} item(s) pending sync.`,`Enregistre hors ligne. ${h.total} element(s) en attente de synchronisation.`))}if(f&&f.permanentFailureIds.includes(x.id)){const h=f.permanentFailureMessages[0]??a("Submission rejected by server validation.","Soumission rejetee par la validation serveur.");v(h);return}Ne(!0)}catch(c){const g=st(c);v(g.message||a("Submission failed.","Echec de la soumission."))}finally{ee(!1)}}},ze=()=>b?null:t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Vertical","Verticale")}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:()=>I("pharmacy"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${d==="pharmacy"?"bg-[#eaf3ee] border-[#2f855a] text-[#2f855a]":"border-gray-100 text-gray-500"}`,children:a("Pharmacy","Pharmacie")}),t.jsx("button",{onClick:()=>I("mobile_money"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${d==="mobile_money"?"bg-[#e7eef4] border-[#0f2b46] text-[#0f2b46]":"border-gray-100 text-gray-500"}`,children:a("Kiosk","Kiosque")}),t.jsx("button",{onClick:()=>I("fuel_station"),className:`h-11 rounded-xl border text-xs font-bold uppercase tracking-widest ${d==="fuel_station"?"bg-[#f7e8e1] border-[#c86b4a] text-[#c86b4a]":"border-gray-100 text-gray-500"}`,children:a("Fuel","Carburant")})]})]}),Ge=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(at,{size:16,className:"text-[#0f2b46]"}),t.jsx("span",{className:"text-xs font-bold text-gray-900",children:a("GPS Location","Localisation GPS")})]}),t.jsx("button",{onClick:$e,className:"text-[10px] font-bold uppercase tracking-widest text-[#0f2b46]",children:a("Retry","Reessayer")})]}),t.jsx("p",{className:"text-[11px] text-gray-500",children:S?`GPS: ${S.latitude.toFixed(4)}°, ${S.longitude.toFixed(4)}°`:a("GPS unavailable. Retry, then use fallback if needed.","GPS indisponible. Reessayez, puis utilisez le secours si necessaire.")}),!S&&t.jsx("button",{onClick:()=>z(e=>!e),className:"text-[10px] font-bold uppercase tracking-widest text-[#c86b4a]",children:J?a("Hide Manual Fallback","Masquer secours manuel"):a("Use Manual Fallback","Utiliser secours manuel")}),J&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{value:G,onChange:e=>ve(e.target.value),placeholder:a("Latitude","Latitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsx("input",{value:B,onChange:e=>we(e.target.value),placeholder:a("Longitude","Longitude"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),W&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:W})]}),Be=()=>t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Live Camera Proof","Preuve camera en direct")}),t.jsx("p",{className:"text-xs text-gray-500",children:a("Camera capture only. Gallery uploads are blocked.","Capture camera uniquement. Import galerie bloque.")}),t.jsxs("div",{className:"aspect-square w-full rounded-2xl bg-gray-50 border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400 relative overflow-hidden",children:[N?t.jsx("img",{src:N,alt:a("Captured photo","Photo capturee"),className:"absolute inset-0 h-full w-full object-cover"}):t.jsxs(t.Fragment,{children:[t.jsx(tt,{size:46,className:"mb-4 opacity-40"}),t.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:a("Live capture required","Capture live requise")})]}),t.jsx("input",{id:"capture-photo",type:"file",accept:"image/*",capture:"environment",onChange:Re,className:"sr-only"}),t.jsx("label",{htmlFor:"capture-photo",className:"relative z-10 mt-6 inline-flex items-center justify-center rounded-full border border-gray-200 bg-white/90 px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-gray-600 shadow-sm backdrop-blur hover:bg-white",children:N?a("Retake Photo","Reprendre photo"):a("Capture Photo","Capturer photo")})]}),X&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:X})]}),Ve=()=>d==="pharmacy"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Pharmacy","Creer une pharmacie")}),t.jsx("input",{value:C,onChange:e=>te(e.target.value),placeholder:a("Pharmacy name","Nom de la pharmacie"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${k?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:k?a("Yes","Oui"):a("No","Non")})]})]}):d==="mobile_money"?t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Kiosk","Creer un kiosque")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>t.jsx("button",{onClick:()=>se(s=>U(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${E.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}):t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Create Fuel Station","Creer une station-service")}),t.jsx("input",{value:C,onChange:e=>te(e.target.value),placeholder:a("Fuel station name","Nom de la station-service"),className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>ne(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${M?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:M?a("Yes","Oui"):a("No","Non")})]})]}),Ye=()=>t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm space-y-4",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:a("Enrich Missing Fields","Enrichir les champs manquants")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 rounded-full bg-[#fff8f4] text-[#b85f3f] border border-[#f5d5c6]",children:Ae(e)},e))}),p.includes("openingHours")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Opening hours","Heures d'ouverture")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ct.map(e=>t.jsx("button",{onClick:()=>ae(e),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${w===e?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),t.jsx("input",{value:w,onChange:e=>ae(e.target.value),placeholder:a("Custom opening hours","Heures d'ouverture personnalisees"),className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),p.includes("isOpenNow")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Open now","Ouvert maintenant")}),t.jsx("button",{onClick:()=>re(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${k?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:k?a("Yes","Oui"):a("No","Non")})]}),p.includes("isOnDuty")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("On-call pharmacy","Pharmacie de garde")}),t.jsx("button",{onClick:()=>Se(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${V?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:V?a("Yes","Oui"):a("No","Non")})]}),p.includes("providers")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Providers","Operateurs")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>t.jsx("button",{onClick:()=>se(s=>U(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${E.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),p.includes("merchantIdByProvider")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:Y,onChange:e=>ke(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:D.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{value:L,onChange:e=>Ce(e.target.value),placeholder:a("Merchant ID","ID marchand"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),p.includes("paymentMethods")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Payment methods","Moyens de paiement")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ot.map(e=>t.jsx("button",{onClick:()=>Ee(s=>U(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${j.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),p.includes("fuelTypes")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:a("Fuel types","Types de carburant")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(e=>t.jsx("button",{onClick:()=>Me(s=>U(s,e)),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${O.includes(e)?"bg-[#0f2b46] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))})]}),p.includes("pricesByFuel")&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("select",{value:Q,onChange:e=>Fe(e.target.value),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs",children:K.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{type:"number",value:R,onChange:e=>Le(e.target.value),placeholder:a("Price (XAF)","Prix (XAF)"),className:"h-11 bg-gray-50 border border-gray-100 rounded-xl px-3 text-xs"})]}),p.includes("quality")&&t.jsx("div",{className:"flex gap-2",children:["Premium","Standard","Low"].map(e=>t.jsx("button",{onClick:()=>Oe(e),className:`flex-1 h-10 rounded-xl text-[10px] font-bold uppercase tracking-widest ${q===e?"bg-[#4c7c59] text-white":"bg-gray-50 text-gray-500"}`,children:e},e))}),p.includes("hasFuelAvailable")&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-semibold text-gray-600",children:a("Fuel available","Carburant disponible")}),t.jsx("button",{onClick:()=>ne(e=>!e),className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest ${M?"bg-[#4c7c59] text-white":"bg-gray-100 text-gray-500"}`,children:M?a("Yes","Oui"):a("No","Non")})]})]}),Qe=d==="pharmacy"?t.jsx(Ze,{size:18}):d==="mobile_money"?t.jsx(Pe,{size:18}):t.jsx(et,{size:18});return je?t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsx("div",{className:"pt-6 px-8",children:t.jsx("button",{onClick:n,className:"p-1 -ml-1 text-gray-500",children:t.jsx(pe,{size:24})})}),t.jsxs("div",{className:"flex-1 px-6 flex flex-col items-center justify-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#eaf3ee] text-[#4c7c59] flex items-center justify-center",children:t.jsx(lt,{size:30})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a("Saved Offline","Enregistre hors ligne")}),t.jsx("p",{className:"text-sm text-gray-500",children:a("Your submission is saved locally first and will sync automatically when online.","Votre soumission est d'abord enregistree localement et sera synchronisee automatiquement en ligne.")}),$&&t.jsx("div",{className:"w-full rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:$})]}),t.jsx("div",{className:"p-6",children:t.jsx("button",{onClick:i,className:"w-full h-14 bg-[#c86b4a] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg hover:bg-[#b85f3f] active:scale-95 transition-all",children:a("Return to Map","Retour a la carte")})})]}):t.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb]",children:[t.jsxs("div",{className:"pt-6 px-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("button",{onClick:n,className:"p-1 -ml-1 text-gray-500",children:t.jsx(pe,{size:24})}),t.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-[0.2em]",children:b?a("Enrich Point","Enrichir point"):a("Create Point","Creer point")}),t.jsx("span",{className:"w-6"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-[10px] font-bold uppercase tracking-widest text-[#4c7c59] mb-4",children:[t.jsx(We,{size:12}),t.jsx("span",{children:a("Live photo + GPS mandatory","Photo live + GPS obligatoires")})]})]}),t.jsxs("div",{className:"flex-1 p-6 overflow-y-auto no-scrollbar space-y-5",children:[t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-[#0f2b46]",children:[Qe,t.jsx("span",{className:"text-sm font-bold",children:d==="pharmacy"?a("Pharmacy","Pharmacie"):d==="mobile_money"?a("Mobile Money Kiosk","Kiosque mobile money"):a("Fuel Station","Station-service")})]}),b&&r&&t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 truncate max-w-[140px]",children:r.name})]}),ze(),Be(),Ge(),b?Ye():Ve(),Z&&t.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 p-3 text-[10px] font-bold uppercase tracking-widest text-red-600",children:Z}),$&&t.jsx("div",{className:"rounded-xl border border-[#d5e1eb] bg-white p-3 text-xs text-[#0f2b46]",children:$})]}),t.jsx("div",{className:"p-6 pt-2",children:t.jsx("button",{onClick:He,disabled:P,className:"w-full h-14 bg-[#0f2b46] text-white rounded-xl font-bold uppercase text-xs tracking-widest shadow-lg flex items-center justify-center space-x-2 hover:bg-[#0b2236] active:scale-95 transition-all disabled:opacity-70",children:P?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:a("Saving","Enregistrement")})]}):t.jsx("span",{children:b?a("Save Enrichment","Enregistrer enrichissement"):a("Create Point","Creer point")})})})]})};export{wt as default};
