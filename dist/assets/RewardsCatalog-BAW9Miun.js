import{c as y,r,j as e,F as k,p as w}from"./index-C7ePr4Fw.js";import{A as N}from"./arrow-left-BLmXqLs1.js";import{A as p,G as f}from"./gift-Dcy7lo1G.js";import{C as v}from"./circle-check-big-Bcuc4S2C.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],R=y("Smartphone",C),X=({onBack:h,language:b})=>{var m;const s=(t,c)=>b==="fr"?c:t,[l,n]=r.useState(null),[g,d]=r.useState(!1),[o,i]=r.useState(null),[j,x]=r.useState(!0),u=[{id:1,name:s("Mobile credit (5,000 FCFA)","Credit mobile (5 000 FCFA)"),cost:"5,000 XP",stock:s("In Stock","En stock"),icon:e.jsx(R,{}),category:s("Mobile credit","Credit mobile")},{id:2,name:s("Fuel discount 10%","Reduction carburant 10%"),cost:"12,000 XP",stock:s("Low Stock","Stock faible"),icon:e.jsx(k,{}),category:s("Fuel discounts","Reductions carburant")},{id:3,name:s("Gift card (Local Grocer)","Carte cadeau (epicerie locale)"),cost:"8,500 XP",stock:s("In Stock","En stock"),icon:e.jsx(f,{}),category:s("Gift cards","Cartes cadeaux")},{id:4,name:s("Community badge boost","Boost badge communaute"),cost:"2,000 XP",stock:s("Out of Stock","Rupture de stock"),icon:e.jsx(p,{}),category:s("Recognition","Reconnaissance")}],a=u.find(t=>t.id===l);return r.useEffect(()=>{(async()=>{try{x(!0);const c=await w("/api/user");i(typeof(c==null?void 0:c.XP)=="number"?c.XP:0)}catch{i(null)}finally{x(!1)}})()},[]),e.jsxs("div",{className:"flex flex-col h-full bg-[#f9fafb] overflow-y-auto no-scrollbar",children:[e.jsxs("div",{className:"sticky top-0 z-30 bg-white border-b border-gray-100 px-4 h-14 flex items-center justify-between",children:[e.jsx("button",{onClick:h,className:"p-2 -ml-2 text-gray-700 hover:text-[#0f2b46] transition-colors",children:e.jsx(N,{size:20})}),e.jsx("h3",{className:"text-sm font-bold mx-auto",children:s("Rewards","Recompenses")}),e.jsx("div",{className:"w-8"})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"bg-[#0f2b46] p-6 rounded-2xl text-white shadow-xl flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-80",children:s("Your Balance","Votre solde")}),j?e.jsx("div",{className:"h-8 w-28 rounded-lg bg-white/20 animate-pulse"}):e.jsxs("div",{className:"text-3xl font-bold",children:[((m=o==null?void 0:o.toLocaleString)==null?void 0:m.call(o))??"0"," ",e.jsx("span",{className:"text-sm font-medium opacity-60",children:"XP"})]})]}),e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:e.jsx(p,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:s("Redeemable Rewards","Recompenses echangeables")}),e.jsx("div",{className:"grid gap-3",children:u.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 text-[#0f2b46] rounded-2xl group-hover:bg-[#f2f4f7] transition-colors",children:t.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.name}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider",children:t.category}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${t.stock===s("In Stock","En stock")?"text-[#4c7c59]":t.stock===s("Low Stock","Stock faible")?"text-[#c86b4a]":"text-gray-400"}`,children:t.stock})]})]}),e.jsx("button",{onClick:()=>{t.stock!==s("Out of Stock","Rupture de stock")&&(n(t.id),d(!1))},disabled:t.stock===s("Out of Stock","Rupture de stock"),className:`px-4 py-2 text-[10px] font-bold uppercase rounded-xl tracking-widest transition-all ${t.stock===s("Out of Stock","Rupture de stock")?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-[#e7eef4] text-[#0f2b46] hover:bg-[#0f2b46] hover:text-white"}`,children:t.cost})]},t.id))})]}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-2xl border-2 border-dashed border-gray-200 text-center space-y-2",children:[e.jsx(f,{size:24,className:"mx-auto text-gray-300"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:s("Rewards are replenished via local merchant partnerships in Douala.","Les recompenses sont reapprovisionnees avec des partenaires marchands locaux a Douala.")})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:e.jsx("div",{className:"bg-white w-full max-w-md rounded-t-2xl p-6 space-y-4 shadow-xl",children:g?e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-[#eaf3ee] text-[#4c7c59] flex items-center justify-center mx-auto",children:e.jsx(v,{size:28})}),e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:s("Reward Redeemed","Recompense echangee")}),e.jsx("p",{className:"text-xs text-gray-500",children:s("Your voucher is available in the Rewards wallet.","Votre bon est disponible dans le portefeuille recompenses.")}),e.jsx("button",{onClick:()=>n(null),className:"w-full h-12 bg-[#0f2b46] text-white rounded-xl text-xs font-bold uppercase tracking-widest",children:s("Done","Termine")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900",children:s("Confirm Redemption","Confirmer l'echange")}),e.jsx("button",{onClick:()=>n(null),className:"text-xs font-bold text-gray-400 uppercase",children:s("Close","Fermer")})]}),e.jsxs("div",{className:"bg-[#f9fafb] border border-gray-100 rounded-2xl p-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:a==null?void 0:a.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-1",children:[s("Cost","Cout"),": ",a==null?void 0:a.cost]})]}),e.jsx("button",{onClick:()=>d(!0),className:"w-full h-12 bg-[#c86b4a] text-white rounded-xl text-xs font-bold uppercase tracking-widest",children:s("Confirm Redeem","Confirmer echange")})]})})})]})};export{X as default};
